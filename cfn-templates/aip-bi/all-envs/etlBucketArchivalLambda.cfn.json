{
    "AWSTemplateFormatVersion" : "2010-09-09",

    "Description" : "AWS CloudFormation Template for lambda function for s3 to s3 archival",

    "Parameters" : {
        "bucketname" : {
          "Type" : "String",
          "Description" : "Bucket name having (i) lambda_function.zip and (ii) lambda_function2.zip "          
        }
    },

    "Resources" : {
        "ThreeS3Archival": {
			"Type": "AWS::Lambda::Function",
			"Properties": {
			"Code": {
				"S3Bucket": { "Ref" : "bucketname" },
				"S3Key": "lambda_function.zip"
			},
			"Role": "arn:aws:iam::661072482170:role/s3_lambda_copy",
			"Timeout": 120,
			"Handler": "lambda_function.lambda_handler",
			"Runtime": "python2.7",
			"MemorySize": 1024
			}
		},
		"OneS3Archival": {
			"Type": "AWS::Lambda::Function",
			"Properties": {
			"Code": {
				"S3Bucket": { "Ref" : "bucketname" },
				"S3Key": "lambda_function2.zip"
			},
			"Role": "arn:aws:iam::661072482170:role/s3_lambda_copy",
			"Timeout": 120,
			"Handler": "lambda_function2.lambda_handler",
			"Runtime": "python2.7",
			"MemorySize": 1024
			}
		}
	}
}

